#!/usr/bin/sh
sxhkd &
setxkbmap -option ctrl:swapcaps &
xrandr --output LVDS1 --mode 1366x768 --rotate normal &
xrandr --output HDMI1 --primary --mode 1920x1080 --rotate normal --right-of LVDS1 &
#xrandr --output HDMI1 --primary --mode 1920x1080 --rotate normal --right-of LVDS1 &
feh --bg ~/.config/nitrogen/abstract.jpg &
. ~/dotconfigs/.fehbg &
nitrogen --auto "~/.config/nitrogen/abstract.jpg" &
picom &
~/.config/polybar/launch.sh --colorblocks &
[[ "$1" -eq 0 ]] \
    && find "$BSPWM_DIR/tmp" -type f -exec rm -- {} ';'

# Checks active monitors and assings bspc workspaces
laptop_monitor2=$(xrandr --query | grep -i 'LVDS1 connected')
external_monitor=$(xrandr --query | grep -i 'HDMI1 connected')

bspc monitor HDMI1 -d 1 2 3 4 5
bspc monitor LVDS1 -d 6

#if [[ $external_monitor = *\ primary* ]]; then
#  bspc monitor HDMI1 -d 1 2 3 4 5
#elif [[ $laptop_monitor2 = *\ primary* ]]; then
#  bspc monitor LVDS1 -d 1 2 3 4 5
#else
#  bspc monitor HDMI1 -d 1 2 3 4 5
#fi

bspc config border_width         3
bspc config window_gap           6
#bspc config normal_border_color "#000000"
bspc config active_border_color "#afa1d3"
bspc config focused_border_color "#e0e0f7"
bspc config presel-feedback_color "#afa1d3"
bspc config split_ratio          0.52
bspc config borderless_monocle   true
bspc config gapless_monocle      true
bspc config focus_follows_pointer true

bspc rule -a zoom monitor=LVDS1 state=tiled
bspc rule -a pavucontrol monitor=HDMI1 state=floating
bspc rule -a rofi monitor=HDMI1
bspc rule -a flameshot monitor=HDMI1

#bspc rule -a Gimp desktop='^8' state=floating follow=on
#bspc rule -a Chromium desktop='^2'
#bspc rule -a mplayer2 state=floating
#bspc rule -a Kupfer.py focus=on
#bspc rule -a Screenkey manage=off
#picom -b --experimental-backends --animations --animation-window-mass 0.5 --animation-for-open-window zoom --animation-stiffness 400 &
